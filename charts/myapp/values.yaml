name: myapp

# For each release (blue/green)
color: blue
replicas: 2

image:
  repository: registry.gitlab.com/ORG/PROJ/myapp
  tag: "latest"

ports:
  service: 80
  container: 8080

resources: {}
imagePullSecrets: []

deployment:
  enabled: true

# Router decides where the Service points: blue|green
routeTo: blue

service:
  enabled: true
  type: LoadBalancer
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
    service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing" # or "internal"
    # Optional fixed IPs (one per AZ): uncomment and put allocation IDs
    # service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: "ip"
    # service.beta.kubernetes.io/aws-load-balancer-eip-allocations: "eipalloc-aaa111,eipalloc-bbb222"
  externalTrafficPolicy: Cluster
  # Optional allowlist (CIDRs); comment out if open
  # loadBalancerSourceRanges:
  #   - "1.2.3.4/32"
